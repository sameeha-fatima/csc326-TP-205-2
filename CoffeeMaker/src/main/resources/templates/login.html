<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>Login</title>
<link rel="stylesheet" href="css/bootstrap.css" />
<link rel="stylesheet" href="css/app.css" />
<style>
input.ng-valid {
	background-color: lightgreen;
}

input.ng-dirty.ng-invalid-required,input.ng-dirty.ng-invalid-number {
	background-color: red;
}

input.ng-dirty.ng-invalid-min {
	background-color: yellow;
}


</style>
</head>

<body>
	<script
	src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.js"></script>
	
	<script>
		/*<![CDATA[*/
		var app = angular.module('MyApp', []);
		app.controller('loginCtrl', function($scope, $http) {
			
			$scope.users;
			
			$scope.login = function() {
				$scope.success = false;
				$scope.failure = false;
				
				$http.get("/api/v1/users", $scope.users.username, $scope.users.password).then(
						function(response) {
							$scope.login();
						}, function(rejection) {
							$scope.failure = true;
							$scope.success = false;
							console.error("Incorrect Credentials");
						});
				$scope.success = !($scope.failure);
			}
			
			console.log($scope)
			
		});
		/*]]>*/
	</script>
	
	<div class="generic-container ng-cloak" ng-app="myApp"
		ng-controller="loginCtrl as ctrl" style="position: relative">
		<nav
		  style="
		  	background-color: #b9a184;
		  	padding: 10px;
		  	position: absolute;
		  	left: 0;
		  	right: 0;
		  	top: 0;
		  "
		>
		  <a href="/index"
		    ><svg
              xmlns="http://www.w3.org/2000/svg"
              width="25"
              height="25"
              fill="black"
              class="bi bi-list"
              viewBox="0 0 16 16"
            >
              <path
                fill-rule="evenodd"
                d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"
              /></svg
          ></a>		
		</nav>
		<!-- Heading to indicate the purpose / function of the page -->
        <h1 style="margin: 50px 0 50px 15px">Login</h1>
		
		<div>
			<h2 class = "lead">Username</h2>
			<input type="text" ng-model="user.username" required="true" />
		</div>
		
		<div>
			<h2 class = "lead">Password</h2>
			<input type="text" ng-model="user.password" required="true" />
		</div>
		
		<button type="button" ng-click="login()">Login</button>
	</div>
</body>
</html>